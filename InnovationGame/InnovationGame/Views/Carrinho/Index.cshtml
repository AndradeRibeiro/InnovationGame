@{
    ViewData["Title"] = "Carrinho";
}
<html>
    <head>
        <style>
            .actions {
                display: flex;
                justify-content: flex-end;
            }
        </style>
    </head>

    <body>
        <div class="container mt-5">
            <form>
                <h4>Dados da compra:</h4>

                <div class="text-center mt-3">
                    <img src="https://www.confianca.com.br/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/r/e/refrigerante-guarana-antarctica-lata-350ml_1.jpg" width="200" height="200" />
                </div>

                <div class="text-center mt-3 mb-4">
                    <label>Descrevendo o produto aqui</label>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col-12 col-sm-2">
                            <label for="quantidade">Quantidade</label>
                            <input type="number" class="form-control" id="quantidade">
                        </div>

                        <div class="col-12 col-sm-8">
                            <label for="endereco">Endereço</label>
                            <input type="text" class="form-control" id="endereco">
                        </div>

                        <div class="col-12 col-sm-2">
                            <label for="celular">Celular</label>
                            <input type="text" class="form-control" id="celular">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col-12 col-sm-6">
                            <label for="numeroCartao">Cartão</label>
                            <input type="text" class="form-control" id="numeroCartao">
                        </div>

                        <div class="col-12 col-sm-3">
                            <label for="dataValidade">Validade</label>
                            <input type="text" class="form-control" id="dataValidade">
                        </div>

                        <div class="col-12 col-sm-3">
                            <label for="cardCvv">CVV</label>
                            <input type="text" class="form-control" id="cardCvv">
                        </div>
                    </div>
                </div>

                <div class="mt-4 mb-5 actions">
                    <button id="submit" class="btn btn-warning" onclick="proximo()">Avançar</button>
                </div>

            </form>
        </div>
        </div>
    </body>
</html>

<script type="text/javascript">

    function proximo() {
        var carrinho = mapearObjeto();
        $.ajax({
            type: "GET",
            url: '@Url.Action("Detalhes", "Carrinho")',
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(carrinho),
            error: function () {
                alert("Error while inserting data");
            }
        });
        debugger;
    }

    function mapearObjeto() {
        var carrinho = {};
        carrinho.Quantidade = $("#quantidade").val();
        carrinho.Endereco = $("#endereco").val();
        carrinho.NumeroCartao = $("#numeroCartao").val();
        carrinho.DataValidade = $("#dataValidade").val();
        //carrinho.CVV = ("#cardCvv").val();
        return carrinho;
    }

    //TESTE DO BANCO NO AZURE (Obter Todos)
    function obter() {
        $.ajax({
            type: "GET",
            url: '@Url.Action("ObterTodos", "Produto")',
            contentType: "application/json; charset=utf-8",
            success: function () {
                alert("Data has been added successfully.");
            },
            error: function () {
                alert("Error while inserting data");
            }
        });
    }

    //TESTE DO BANCO NO AZURE (Obter por id)
    function obterId() {
        $.ajax({
            type: "GET",
            url: '@Url.Action("ObterPorId", "Produto")',
            contentType: "application/json; charset=utf-8",
            data: { produtoId: 1 },
            success: function () {
                alert("Data has been added successfully.");
            },
            error: function () {
                alert("Error while inserting data");
            }
        });
    }

</script>

